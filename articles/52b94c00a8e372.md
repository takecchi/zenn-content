---
title: "[Next.js] モーダルにURLパスを付与しつつレスポンシブにする"
emoji: "📱"
type: "tech" # tech: 技術記事 / idea: アイデア
topics:
- "nextjs"
- "typescript"
published: false
---

## 環境
* Next.js 12以上
* Mui (breakpointに使用してるだけなので不要)

## 経緯
「PC画面で見るとモーダルになるが、スマホで見ると通常ページ表示になる」
そういったデザインを提示され、なんとかレスポンシブに出来ないかと実現しようとしたのが経緯。

## 画面イメージ
こういうの(ここにプレビューgif)

## 上記要件
長いのでプレビューでなんとなくイメージついた人は読み飛ばして下さい。
- 画面サイズによって、PCとSPの表示が切り替わる
- レスポンシブに対応するため、JavaScriptではなくCSSで表示を切り替える
- パスの切り替えが行われる (例:`/`=>`/signin`)
- PC表示では、ボタンをクリックするとモーダルが表示され、背景はそのまま
- モーダルを表示した状態で、画面サイズが狭くなると、SP表示に切り替わる
- SP表示では、ボタンをクリックすると、画面遷移が発生する（ように見える）
- 画面遷移した状態で、画面サイズが広くなると、再びモーダル表示に切り替わる
- `/signin`などに直接遷移してきた際の背景はトップページ`/`とする


